#+TITLE: SpringBoot实战第2章--自定义配置
#+DATE: 2017-09-20T23:52:00+08:00
#+PUBLISHDATE: 2017-09-20T23:52:00+08:00
#+DRAFT: nil
#+SHOWTOC: t
#+TAGS: Java, SpringBoot
#+DESCRIPTION: Short description

** 注解

** 属性文件外置配置
- 要想使用属性文件外置配置，根据 [[https://docs.spring.io/spring-boot/docs/1.5.7.RELEASE/reference/html/configuration-metadata.html#configuration-metadata-annotation-processor][Generating your own meta-data using the annotation processor]] 需要配置spring-boot-configuration-processor依赖
#+BEGIN_SRC xml
<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-configuration-processor</artifactId>
    <optional>true</optional>
</dependency>
#+END_SRC

- 配置properties文件
#+BEGIN_SRC txt
amazon.accountId=pengganyu
#+END_SRC

- PropertyConfig信息，需要添加@ConfigurationProperties注解
#+BEGIN_SRC java
package com.idcos.automate.config;

import org.springframework.boot.context.properties.ConfigurationProperties;
import org.springframework.stereotype.Component;

@Component
@ConfigurationProperties(prefix = "amazon")
public class PropertyConfig {

    private String accountId;

    public String getAccountId() {
        return accountId;
    }

    public void setAccountId(String accountId) {
        this.accountId = accountId;
    }
}
#+END_SRC
